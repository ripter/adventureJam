<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Adventure Jam</title>
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <script src="bundle.js"></script>
  </head>
  <body>
    <a-scene debug>
      <a-assets>
        <img id="one" src="textures/one.png">
        <img id="two" src="textures/two.png">
        <img id="three" src="textures/three.png">
        <img id="four" src="textures/four.png">
        <img id="green" src="textures/five.png">
        <img id="six" src="textures/six.png">
        <img id="wall-stone" src="textures/stone-wall.png">

        <a-mixin id="floor" geometry="height: 10; width: 10;" rotation="-90 0 0"></a-mixin>
        <a-mixin id="move-dest" color="crimson" position="0 .5 0" geometry="height: 1;"></a-mixin>
        <a-mixin id="wall" geometry="height: 5; width: 1;" material="src: #wall-stone; repeat: 3 1;"></a-mixin>
      </a-assets>

      <a-sky color="#7FDBFF"></a-sky>
      <a-camera id="player" class="does-sneak" position="0 0 0" user-height="1.6" look-controls>
        <a-entity cursor="fuse: true; fuseTimeout: 1500"
          objects=".clickable"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03; thetaLength: 360"
          material="color: black; shader: flat"
          animation="restartEvents: fusing; pauseEvents: mouseleave; property: geometry.thetaLength; dur: 1000; easing: easeInSine; from: 0; to: 360;"
          animation__reset="startEvents: mouseleave; property: geometry.thetaLength; dur: 500; to: 360;"
          >
        </a-entity>
      </a-camera>

      <!-- Room #1 -->
      <a-plane mixin="floor" src="#one"></a-plane>

      <a-box mixin="wall" position="-5 2.5 -10" depth="30"></a-box>
      <a-box mixin="wall" position="-9.607 2.5 -24.5" depth="10" rotation="0 90 0"></a-box>

      <!-- Room #2 -->
      <a-entity id="room-2" position="0 0 -30">
        <a-plane mixin="floor" src="#green" ></a-plane>
        <a-cylinder mixin="move-dest" sneak-to class="clickable" color="crimson" radius="1"></a-cylinder>
      </a-entity>

      <!-- Room #3 -->
      <a-entity id="room-3" position="-20 0 -30">
        <a-plane mixin="floor" src="#two" ></a-plane>
        <a-cylinder mixin="move-dest" sneak-to="duration: 6000" class="clickable" color="crimson" radius="1"></a-cylinder>
      </a-entity>
    </a-scene>
  </body>
</html>
